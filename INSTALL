1. Requires
===========
1. squid
2. python
3. python-urlgrabber
4. python-iniparse
5. Apache (httpd) or any other Web Server

2. Installation (for Redhat and derivatives)
============================================
a) Download latest version of youtube_cache from http://kulbirsaini.fedorapeople.org/stuff/youtube_cache/ .
b) Untar the package.
[root@localhost root]# tar -xvzf youtube_cache-x.x-x.tar.gz

c) Go to youtube_cache-x.x-x directory
[root@localhost youtube_cache-x.x-x]# cd youtube_cache-x.x-x

d) Copy youtube_cache_sysconfing.conf to /etc/youtube_cache.conf
[root@localhost youtube_cache-x.x-x]# cp youtube_cache_sysconfing.conf /etc/youtube_cache.conf

e) Copy youtube_cache_httpd.conf to /etc/httpd/conf.d/youtube_cache.conf
[root@localhost youtube_cache-x.x-x]# cp youtube_cache_httpd.conf /etc/httpd/conf.d/youtube_cache.conf

f) Copy youtube_cache directory to /etc/squid/
[root@localhost youtube_cache-x.x-x]# cp -r youtube_cache /etc/squid/

g) Create directories to cache youtube videos
[root@localhost root]# cd /var/spool/squid/
[root@localhost squid]# mkdir video_cache
[root@localhost squid]# mkdir video_cache/tmp video_cache/youtube video_cache/metacafe
[root@localhost squid]# chown -R squid:squid video_cache
[root@localhost squid]# chmod -R 755 video_cache

3. Configuration
================
Assuming you have squid installed. The following configurations are required to get it running.
Newbies are instructed to stick with default configuration as much as possible otherwise
you'll be lost in directory permissions.

Reload the httpd service as
[root@localhost root]# service httpd reload

Add the following lines to your squid.conf which is generally found in
/etc/squid/squid.conf .

# --BEGIN-- youtube_cache config for squid
url_rewrite_program /usr/bin/python /etc/squid/youtube_cache/youtube_cache.py
url_rewrite_children 20
acl youtube_query url_regex -i \.youtube\.com\/get_video
acl metacafe_query dstdomain v.mccont.com
url_rewrite_access allow youtube_query
url_rewrite_access allow metacafe_query
redirector_bypass on
# --END-- youtube_cache config for squid

Save squid.conf and reload the squid service using
[root@proxy root]# service squid reload

SEE README FILE FOR MORE CONFIGURATION OPTIONS.

4. Bugs, Suggestions, Comments
==============================
Mail them to Kulbir Saini <kulbirsaini@students.iiit.ac.in>

5. Online Help
=============
1. Project Page : http://fedora.co.in/youtube_cache/
2. How to configure squid http://fedora.co.in/content/how-configure-squid-proxy-server
3. How to write custorm squid redirector in python http://fedora.co.in/content/writing-custom-redirector-plugin-squid-python
